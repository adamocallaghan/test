<template name="overview">
    {{>navbar}}
    {{>sidebar}}
    {{#if currentUser }}
        <div class="query_page col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2">
            <h1>Overview</h1>
            <blockquote>Welcome to Martello. The overview page gives you an <em>at-a-glance</em> look at the news content that Martello has parsed today and over the past 7 days. This content is dynamically updated as Martello scrapes, parses, and analyses new articles every 15 minutes.</blockquote>
            <div class="row">
                <div class="col-md-6">
                {{> highchartsHelper chartId="sources" chartWidth="100%" charHeight="100%" chartObject=topGenresChart}}
                </div>
                <div class="col-md-6">
                {{> highchartsHelper chartId="sentiment" chartWidth="100%" charHeight="100%" chartObject=sentimentChart}}
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    {{> highchartsHelper chartId="thisweek" chartWidth="100%" charHeight="100%" chartObject=thisWeekChart}}
                </div>
            </div>
            <!--
            <ul>
                <li>RTE.ie: {{countSources.key1}}</li>
                <li>Irish Times: {{countSources.key2}}</li>
                <li>Irish Independent: {{countSources.key3}}</li>
                <li>Irish Examiner: {{countSources.key4}}</li>
            </ul>
            -->
            <div class="panel panel-default">
                <!-- Default panel contents -->
                <div class="panel-heading">Top 5 Positive Articles by Score (Today)</div>
                <!-- Table -->
                <table class="table">
                    <thead>
                    <tr>
                        <th>Source</th>
                        <th>Title</th>
                        <th>Description</th>
                        <th>Sentiment Score</th>
                    </tr>
                    </thead>
                    <tbody>
                        {{#each topPos}}
                        <tr class="{{polcolor}}">
                            <td>{{source}}</td>
                            <td>{{title}}</td>
                            <td>{{description}}</td>
                            <td>{{score}}</td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
            <div class="panel panel-default">
                <!-- Default panel contents -->
                <div class="panel-heading">Top 5 Negative Articles by Score (Today)</div>
                <!-- Table -->
                <table class="table">
                    <thead>
                    <tr>
                        <th>Source</th>
                        <th>Title</th>
                        <th>Description</th>
                        <th>Sentiment Score</th>
                    </tr>
                    </thead>
                    <tbody>
                    {{#each topNeg}}
                        <tr class="{{polcolor}}">
                            <td>{{source}}</td>
                            <td>{{title}}</td>
                            <td>{{description}}</td>
                            <td>{{score}}</td>
                        </tr>
                    {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
    {{/if}}
</template>